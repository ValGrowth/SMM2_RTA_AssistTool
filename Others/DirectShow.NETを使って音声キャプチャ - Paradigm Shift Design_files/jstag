var OX=OX||function(f,i){var c={},b,j,h,l,a={},n,k,e="OX_sd";var m=function(){var o=0;return function(){if(o){return}g();o=1}}();function g(){var p,o;if(!k.isFramed()){p=k.getCookie(e);if(parseInt(p)){p++}else{p=1}o=new Date(k.now()+1200000).toGMTString();k.cookie(e,p,o);n._requestArgs.sd=p}}function d(s,q){var o,x,w,p={},u={},t,v,r;if(s.vars){for(var y in s.vars){if(s.vars.hasOwnProperty(y)){p["c."+escape(y)]=s.vars[y]}}s.vars=null}if(s.gw){t=s.gw;s.gw=null}if(""){u.oxns=""}if(j){u.ju=j}if(h){u.jr=h}u.cb=k.rand();v=k.merge([s,u,p,k.contextArgs()]);r=k.serialize(v);o=k.template(k.Templates.GW_URL,{gw:t||b,v:"1.0",r:q,q:r});x=k.ensureRightProtocol(o);w=k.template(k.Templates.SCRIPT,{src:o,id:"ox_"+q+"_"+k.rand()});k.write(w)}n=function(p){var o=new OX.AdRequest(p,{url:j=j||k.detectPageURL(),ref:h=h||k.detectRefererURL(),gw:b});c[o.get("o")]=o;return o};n._customVars={};n._requestArgs={};n.addHook=function(p,o){if(!a[o]){a[o]=[]}a[o].push(p)};n.addVariable=function(q,s,r,p){var o=n._customVars,t=(r||"c")+"."+q;if(p||!o[t]){o[t]=[]}o[t].push(s)};n.appendTag=function(o){k.write(o)};n.dflt=function(q,r,o){var p=c[q];p&&p.dflt(r,o)};n.ifrmHTML=function(q,r,o){var p=c[q];p&&p.ifrmHTML(r,o)};n.frameCreatives=function(o){l=o};n.getFramed=function(){return l};n.getHooksByType=function(o){return a[o]};n.init=function(){k=OX.utils;m()};n.load=function(o){n(o).load()};n.requestAd=function(o){n(o).fetchAds()};n.recordAction=function(o){d(o,n.Resources.RAJ)};n.recordSegments=function(q){var o,r={};if(q.expires){o=Date.parse(q.expires);if(o<new Date()){return}}for(var p in q){if(q.hasOwnProperty(p)){switch(p){case"add":r.as=q[p];break;case"del":r.ds=q[p];break;default:r[p]=q[p]}}}d(r,n.Resources.RSJ)};n.renderCreative=function(o){k.write(o)};n.setGateway=function(o){b=k.ensureRightProtocol(o)};n.setPageURL=function(o){j=o};n.setRefererURL=function(o){h=o};n.Hooks={ON_AD_REQUEST:1,ON_AD_RESPONSE:2,ON_ADUNIT_CREATED:3,ON_ADUNIT_INITIALIZED:4,ON_ADUNIT_RENDER_START:5,ON_ADUNIT_RENDER_FINISH:6,ON_AD_RENDER_START:7,ON_AD_RENDER_FINISH:8,ON_AD_DEFAULTED:9,ON_AD_NOT_DEFAULTED:10};n.Modes={IMMEDIATE:1,DEFERRED:2};n.Resources={ACJ:"acj",RAJ:"raj",RDF:"rdf",RR:"rr",RI:"ri",RSJ:"rsj",RE:"re"};n.GeoLocationSources={GPS:1,IP_ADDRESS:2,USER_REGISTRATION:3};n.shareFrameContents=false;return n}(window,document);
OX.utils=OX.utils||function(d,e,g){var i,b="w",c=true,h="BI",a=1000000;function f(k,j){if(k.attachEvent){k.attachEvent("onload",j)}else{k.onload=j}}i={IMAGE_BEACON_TEMPLATE:"<div style='position:absolute;left:0px;top:0px;visibility:hidden;'><img src='{src}'/></div>",append:function(k,j){k.parentNode.insertBefore(j,k.nextSibling);return j},attachListener:function(l,j,k){if(l.addEventListener){l.addEventListener(j,k,false)}else{if(l.attachEvent){l.attachEvent("on"+j,k)}}},beacon:function(j){var k=i.ensureRightProtocol(j);(new Image()).src=k},getImgBeacon:function(j){var k=i.ensureRightProtocol(j);return i.template(i.IMAGE_BEACON_TEMPLATE,{src:k})},browserIDKey:function(){return h},contextArgs:function(){var n=i.detectWindowDims(),p={res:screen.width+"x"+screen.height+"x"+screen.colorDepth,plg:i.detectPlugins(),ch:e.charset||e.characterSet,tz:(new Date()).getTimezoneOffset()},o=e.getElementsByTagName("meta"),r;if(n){p.ws=n[0]+"x"+n[1]}p.ifr=i.inIframe()?1:0;if(p.ifr){try{tWin=d.top;tDoc=d.top.document;tDims=i.detectWindowDimensions(tWin,tDoc);if(tDims){p.tws=tDims.width+"x"+tDims.height}}catch(k){}}else{p.tws=p.ws}for(var m=0;m<o.length;m++){r=o[m];if(r.name&&r.name==="viewport"){p.vmt=1;break}}if(OX.browser_id){var l=OX.browser_id.get();if(l){p.bi=l}}else{i.store.remove(h)}if(OX.tp_xdi_tapad){OX.tp_xdi_tapad.sync()}if(OX.tp_presync_criteo){var q=OX.tp_presync_criteo.get();p["tp.presync.criteo"]=q.id;p["tp.presync.criteo.status"]=q.status}if(OX.tp_presync_mediamath){var j=OX.tp_presync_mediamath.get();p["tp.presync.mediamath"]=j.id;p["tp.presync.mediamath.status"]=j.status}return p},create:function(k){var j=e.createElement("div");j.innerHTML=k;return j.firstChild},cookie:function(l,m,j){if(c){var k=l+"=";k+=(m||"")+";path=/;";if(i.defined(j)){k+="expires="+j+";"}try{e.cookie=k}catch(n){}}},createScript:function(k){var j=e.createElement("script");j.type="text/javascript";k.id&&(j.id=k.id);k.src&&(j.src=k.src);return j},defined:function(j){return typeof j!="undefined"},detectWindowDims:function(){var l=e.documentElement,j=d.innerWidth,k=d.innerHeight;j=i.defined(j)?j:l.clientWidth;k=i.defined(k)?k:l.clientHeight;if(i.defined(j)&&i.defined(k)){return[j,k]}},detectWindowDimensions:function(o,n){var m=n.documentElement,k=n.getElementsByTagName("body")[0],l=o.innerWidth||m.clientWidth||k.clientWidth,j=o.innerHeight||m.clientHeight||k.clientHeight;return{width:l,height:j}},detectPlugins:function(){var l,k="OX_plg",m="ShockwaveFlash.ShockwaveFlash",j={swf:{activex:[m,m+".3",m+".4",m+".5",m+".6",m+".7"],plugin:/flash/gim},sl:{activex:["AgControl.AgControl"],plugin:/silverlight/gim},pdf:{activex:["acroPDF.PDF.1","PDF.PdfCtrl.1","PDF.PdfCtrl.4","PDF.PdfCtrl.5","PDF.PdfCtrl.6"],plugin:/adobe\s?acrobat/gim},qt:{activex:["QuickTime.QuickTime","QuickTime.QuickTime.4"],plugin:/quicktime/gim},wmp:{activex:["WMPlayer.OCX"],plugin:/(windows\smedia)|(Microsoft)/gim},shk:{activex:["SWCtl.SWCtl","SWCt1.SWCt1.7","SWCt1.SWCt1.8","SWCt1.SWCt1.9",m+".1"],plugin:/shockwave/gim},rp:{activex:["RealPlayer","rmocx.RealPlayer G2 Control.1"],plugin:/realplayer/gim}};return function(){var q,r,o="",n=[];if(l){return l}try{if(e.cookie){q=e.cookie.split((escape(k)+"="));if(2<=q.length){r=q[1].split(";");if(r[0]){if(r[0].indexOf("|")>=0){return unescape(r[0].split("|").join(","))}}}}}catch(v){}for(var u in j){if(j.hasOwnProperty(u)){if(d.ActiveXObject){for(var t=0;t<j[u].activex.length;++t){try{ActiveXObject(j[u].activex[t]);n.push(u);break}catch(v){}}}else{for(var s=0;s<g.plugins.length;++s){if(g.plugins[s].name.match(j[u].plugin)){n.push(u);break}}}}}if(d.postMessage){n.push("pm")}l=o=n.join(",");i.cookie(k,n.join("|"));return o}}(),detectPageURL:function(){var j;try{j=top.location.href}catch(k){}return j||i.detectRefererURL()},detectProtocol:function(){return location.protocol},detectRefererURL:function(){var j=e.referrer;try{j=top.document.referrer}catch(m){if(parent){try{j=parent.document.referrer}catch(l){}}}if(!j&&opener){try{j=opener.location.href}catch(k){}}return j||""},each:function(m,n){if(i.isArray(m)){for(var l=0;l<m.length;l++){n(m[l],l)}}else{for(var j in m){if(m.hasOwnProperty(j)){n(j,m[j])}}}},ensureRightProtocol:function(k){var j;if(k){j=k.indexOf("//");if(j!=5&&j!=6){k="http://"+k}return(i.detectProtocol()=="https:")?k.replace("http:","https:"):k}},get:function(j){return e.getElementById(j)},getCookie:function(j){try{var k=e.cookie.split(j+"=");if(k.length==2){return k[1].split(";")[0]}}catch(l){}},getMedium:function(){return b},setMedium:function(j){b=j},ieVersion:(function(){var m=0,j,k;if(g){try{j=g.userAgent;if(g.appName=="Microsoft Internet Explorer"){k=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");if(k.exec(j)!=null){m=parseFloat(RegExp.$1)}}else{if(g.appName=="Netscape"){k=new RegExp("Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})");if(k.exec(j)!=null){m=parseFloat(RegExp.$1)}}}}catch(l){}return m}})(),intersection:function(n,m){var k={},l,j=[];if(!i.isValidArray(n)||!i.isValidArray(m)){return j}for(l=0;l<n.length;l++){k[n[l]]=true}for(l=0;l<m.length;l++){if(k[m[l]]){j.push(m[l])}}return j},isArray:function(j){return Object.prototype.toString.call(j)==="[object Array]"},isEmpty:function(k){for(var j in k){if(k.hasOwnProperty(j)){return false}}return true},isFramed:function(){return d.self!=d.top},isFriendlyFramed:function(){if(!i.isFramed()){return false}try{d.parent.document.getElementsByTagName("body");return true}catch(j){return false}},isUnfriendlyFramed:function(){return i.isFramed()&&!i.isFriendlyFramed()},isIE:0,lastScript:function(){var j=e.getElementsByTagName("script");return j[j.length-1]},merge:function(m){var j,n;if(i.isArray(m)){j={};for(var l=0;l<m.length;l++){n=m[l];for(var k in n){if(n.hasOwnProperty(k)){j[k]=n[k]}}}}return j},now:function(){return(new Date()).getTime()},postMessage:function(k){var j=false;if(d.addEventListener){d.addEventListener("message",k,j)}else{if(d.attachEvent){d.attachEvent("onmessage",k,j)}}},createFrameElement:function(k,l,j){var n;try{n=(i.isIE&&k)?e.createElement('<iframe name="'+k+'">'):e.createElement("iframe")}catch(m){n=e.createElement("iframe")}if(k){n.setAttribute("id",k);n.setAttribute("name",k)}n.setAttribute("width",l);n.setAttribute("height",j);n.setAttribute("frameSpacing","0");n.setAttribute("frameBorder","no");n.setAttribute("scrolling","no");return n},produceFrame:function(j){var q,k,p='javascript:window["contents"]',w,y=j.hookNode,l=j.name,n=j.width,z=j.height,m=j.onStart,o=j.onFinish,t=j.onSuccess,s=l+"_contents",x=i.template(i.Templates.IFRAME_DOC,{title:j.title||"OpenX",head:j.headHTML,body:j.bodyHTML});q=i.createFrameElement(l,n,z);if(j.replace){i.replace(y,q)}else{y.innerHTML="";y.appendChild(q)}k=(i.isIE&&(i.ieVersion<11))||d.opera;if(k){q.src=p}if(k){try{o&&f(q,o);q.contentWindow.contents=x;m&&m();q.src=p}catch(r){var v=q;q=i.createFrameElement(l,n,z);d[s]=x;p=i.template(i.Templates.IFRAME_JS_URI,{contentsVar:s,domain:e.domain});o&&f(q,o);q.src=p;m&&m();i.replace(v,q)}}else{try{w=q.contentWindow||q.contentDocument;if(w.document){w=w.document}o&&f(q,o);if(w){w.open("text/html","replace");m&&m();w.write(x);w.close()}}catch(u){if(!j.isRetry){j.hookNode=q;j.replace=true;j.isRetry=true;d.setTimeout(function(){i.produceFrame(j)},0)}}}t&&t(q)},rand:function(){return Math.floor(Math.random()*9999999999)+""},remove:function(j){j.parentNode.removeChild(j)},replace:function(k,j){k.parentNode.replaceChild(j,k);return j},replaceOrRemove:function(j,l,k){if(!j){l&&i.remove(l)}else{if(l){return i.replace(l,j)}else{return i.append(k,j)}}},serialize:function(k){var m="",l;if(typeof k==="object"){for(var j in k){if(k.hasOwnProperty(j)){l=k[j];if(i.defined(l)&&(l!==null)){if(i.isArray(l)){l=l.join(",")}m+=j+"="+escape(l)+"&"}}}}if(m.length>1){m=m.substr(0,m.length-1)}return m},store:function(){var o="1",p=630720000000,m="|",r,j,q,l={};try{r=localStorage;r.setItem(o,o);r.removeItem(o);j=1}catch(n){if(g.cookieEnabled&&c){q=1}}function k(v,u){var x="OX_"+v,t,s;if(j){s=r.getItem(x);u&&r.removeItem(x)}else{if(q){s=i.getCookie(x);u&&i.cookie(x)}else{s=l[x];u&&(delete l[x])}}if(s){t=s.split(m);for(var w=0;w<t.length;w++){t[w]=unescape(t[w])}if(t.length===1){return t[0]}else{return t}}}return{put:function(u,y){var w="OX_"+u,x,s,t;if(i.isArray(y)){s=[];for(var v=0;v<y.length;v++){s.push(escape(y[v]))}x=s.join(m)}else{x=escape(y)}if(j){r.setItem(w,x)}else{if(q){t=new Date(i.now()+p).toGMTString();i.cookie(w,x,t)}else{l[w]=x}}},get:function(s){return k(s)},remove:function(s){return k(s,1)}}}(),template:function(t,o,k,p){o=o||{};var m="",l=false,r="",j,k=k||"{",p=p||"}",s,n;for(var q=0;q<t.length;q++){j=t.charAt(q);if(!l&&j===k){l=true}else{if(l&&j===p){s=o[m];if(i.defined(s)&&s!==null){n=s}else{n=""}r+=n;l=false;m=""}else{if(l){m+=j}else{r+=j}}}}return r},Templates:{SCRIPT:"<script type='text/javascript' id='{id}' src='{src}'><\/script>",IFRAME_DOC:"<!DOCTYPE html><html><head><title>{title}</title><base target='_top'/>{head}</head><body style='margin:0;padding:0'>{body}</body></html>",GW_URL:"{gw}/{v}/{r}?{q}",IFRAME_JS_URI:"javascript:document.open();document.domain='{domain}';document.write(window.parent['{contentsVar}']);window.parent['{contentsVar}']=null;setTimeout('document.close()',5000)"},write:function(j){e.readyState!=="complete"&&e.write(j)},isCookieEnabled:function(){return g.cookieEnabled&&c},isValidDIM:function(j){if(j>a){return false}else{if(isNaN(j)){return false}}return true},isEmpty:function(j){for(var k in j){if(j.hasOwnProperty(k)){return false}}return true},isSubset:function(k,j){var m,l;if(!i.isValidArray(k)||!i.isValidArray(j)){return false}if(k.length<j.length){return false}for(m=0;m<j.length;m++){for(l=0;l<k.length;l++){if(j[m]===k[l]){break}if(l===k.length-1){return false}}}return true},isValidArray:function(j){return j&&i.isArray(j)&&j.length!==0},inIframe:function(){return d.self!==d.top},getPosition:function(l){var k,j;if(!l){return null}if(l.tagName==="SCRIPT"){j=e.createElement("div");i.append(l,j);k=j.getBoundingClientRect();i.remove(j)}else{k=l.getBoundingClientRect()}return{top:Math.round(k.top),left:Math.round(k.left)}},getPositionById:function(k,l){var j=k.getElementById(l);return i.getPosition(j)},getAdPosition:function(m,n){var k,j,p=d,o=d.document;if(d.parent!=d.top){return null}try{m=d.frameElement?d.frameElement:m;if(i.inIframe()){p=d.parent;o=d.parent.document}k=i.detectWindowDimensions(p,o);if(!i.isValidDIM(k.width)||!i.isValidDIM(k.height)){return null}if(n){j=i.getPositionById(o,m);if(j==null){return null}}else{j=i.getPosition(m)}if(!i.isValidDIM(j.left)||!i.isValidDIM(j.top)){return null}return{browserDims:k,adUnitStartPos:j}}catch(l){return null}}};if(i.ieVersion){i.isIE=1}return i}(window,document,navigator);
/*@cc_on OX.utils.isIE=1;@*/;
OX.AdRequest=OX.AdRequest||function(K,A){var O=OX.utils,e=O.rand(),F,l={},v,t=false,h,o,m={},f={},x,g,a,I,y,s={},P=false,u={o:e},q={mode:null,auid:null,record_tmpl:null,ad_units:[]},C=2048,w="OX_"+e,G="ox_"+OX.Resources.ACJ+"_"+e,L="<iframe src='{src}' width='0' height='0' style='display:none;'></iframe>",j=this,M=OX.Hooks,E=OX.Modes;function r(){return(u.rm>0)&&(u.rd>0)&&(u.rc<u.rm)}function d(){if((u.rd>0)&&(u.rm>0)&&(!u.rc)){u.rc=0}}function p(){var k=j.createAdRequestURL(),R=u.rc&&("_"+u.rc),Q=G+(R||""),i=O.createScript({id:Q,src:k});return i}function b(T,S){var k=f[T]||[],Q=OX.getHooksByType(T)||[],V=Q.concat(k),U;if(V){for(var R=0;R<V.length;R++){U=V[R];U.apply(this,S)}}}function D(Q){var i,R,k;if(Q){i=O.template(L,{src:Q});k=O.create(i);if(a){a=O.replace(a,k)}else{if(R=document.body){a=R.appendChild(k)}}}}function H(){u.rc++;setTimeout(function(){j.refreshAds()},1000*u.rd)}function B(k){var i;if(k){i=document.createComment(" "+k.replace(/--/g,"- -"))}g=O.replaceOrRemove(i,g,x)}function n(){var k="ma",i="js";O.setMedium(k);F=F.replace(/\/m?w$/,"/"+k);u.sp=i;delete u.ju;delete u.jr}function z(k,i,S){var R=new XMLHttpRequest(),T=k.split("?");try{T[1]=T[1].replace(/(^|&)callback=[^&]*$/,"");T[1]=T[1].replace(/(^|&)callback=.*?&/,"$1")}catch(Q){}R.open("POST",T[0]);R.setRequestHeader("Content-Type","application/x-www-form-urlencoded");R.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){i&&i(JSON.parse(this.responseText))}else{P=false;s={};delete u.openrtb;S&&S()}}};R.send(T[1])}function c(){var S,W,R,k,V,T="",U=[];if(true&&!u.be){S=u.auid||[];for(var Q=0;Q<S.length;Q++){W=S[Q];R=l[W];k=R.get("anchor");if(!k&&q.mode===E.IMMEDIATE){k=O.lastScript()}V=O.getAdPosition(k,false);if(V){T=V.browserDims.width+"x"+V.browserDims.height;U.push(V.adUnitStartPos.left+","+V.adUnitStartPos.top)}else{U.push("")}}j.setBrowserDims(T);j.setAdUnitLocation(U.join("|"))}}j.addAdUnit=function(Q){var k=j.getOrCreateAdUnit(Q),i;if(!u.auid){u.auid=[]}u.auid.push(Q)};j.addContentTopic=function(i){u.tid=u.tid||[];u.tid.push(i)};j.addHook=function(k,i){if(!f[i]){f[i]=[]}f[i].push(k)};j.addPage=function(i){u.pgid=u.pgid||[];u.pgid.push(i)};j.addVariable=function(k,R,Q,i){var S=(Q||"c")+"."+k;if(i||!m[S]){m[S]=[]}m[S].push(R)};j.createAdRequestURL=function(){var k,i,R="ai=c40739ca-9f6c-4875-6e0b-83c39410fddc";d();c();if(!O.isEmpty(s)){try{u.openrtb=JSON.stringify(s)}catch(Q){}}i=O.merge([u,m,O.contextArgs(),OX._customVars,OX._requestArgs]);R&&(R+="&");R+=O.serialize(i);if(I){R+="&r="+escape(I)}k=O.template(O.Templates.GW_URL,{gw:F,v:"1.0",r:OX.Resources.ACJ,q:R});if(!O.isEmpty(s)&&k.length>C){P=true}return k};j.dflt=function(Q,i){var k=l[Q];k&&k.dflt(i)};j.ifrmHTML=function(Q,i){var k=l[Q];k&&k.set("iframe_html",i)};j.disableFeature=function(i){u.df=u.df||[];u.df.push(i)};j.disableMarket=function(){j.disableFeature("m")};j.disableSegmentation=function(){u.ns=1};j.enableFeature=function(i){u.ef=u.ef||[];u.ef.push(i)};j.enableMarket=function(){j.enableFeature("m")};j.enableSegmentation=function(){u.ns=null};j.fetchAds=function(){var k,i;b(M.ON_AD_REQUEST,[j]);k=j.createAdRequestURL();if(P){z(k,window[w],j.fetchAds)}else{i=O.template(O.Templates.SCRIPT,{src:k,id:G});O.write(i)}};j.fetchAdsComplete=function(){switch(q.mode){case E.IMMEDIATE:j.showAdUnit(q.auid);break;case E.DEFERRED:for(var i in l){if(l.hasOwnProperty(i)){if(l[i].get("anchor")){j.showAdUnit(i)}}}break;default:}if(u.auid&&u.auid.length===1){if(u.rc===0){j.addHook(function(){r()&&H()},OX.Hooks.ON_ADUNIT_RENDER_FINISH)}}else{r()&&H()}};j.frameCreatives=function(i){v=i};j.getOrCreateAdUnit=function(i){if(!l[i]){l[i]=new OX.AdUnit(i,j.get("o"));q.ad_units.push(l[i]);b(M.ON_ADUNIT_CREATED,[l[i]])}return l[i]};j.get=function(i){return q.hasOwnProperty(i)?q[i]:u[i]};j.getQueryArgs=function(){return u};j.getProperties=function(){return q};j.isResponseEmpty=function(){var k,i;if(!(y&&y.ads&&y.ads.adunits&&(k=y.ads.adunits[0])&&(i=k.chain)&&i.length)){return true}else{return false}};j.getRecordTemplate=function(){if(y&&y.ads){return y.ads.record_tmpl}return""};j.loadAdResponse=function(Q){var S=Q.ads,U=Q.ads.adunits,k,T;x=x||O.get(G);y=Q;D(S.pixels);B(q.debug=S.debug);for(var R=0;R<U.length;R++){k=U[R];if(k.refresh_delay){u.rd=k.refresh_delay}if(k.refresh_max){u.rm=k.refresh_max}d();if(r()){v=1}T=function(i){b(M.ON_ADUNIT_INITIALIZED,[i])};j.getOrCreateAdUnit(k.auid).load({adunit:k,rt:S.record_tmpl,oninit:T,chain:S.chain})}};j.load=function(){var k,Q,i=j.createAdRequestURL();b(M.ON_AD_REQUEST,[j]);v=1;if(P){z(i,window[w],j.load)}else{k=p();Q=document.head||document.body;if(Q){Q.appendChild(k);x=k}else{x=O.append(O.lastScript(),k)}}};j.refreshAds=function(){var k,i=j.createAdRequestURL();b(M.ON_AD_REQUEST,[j]);if(P){z(i,window[w],j.load)}else{k=p();x=O.replace(x,k)}};j.setAdUnitFallback=function(k,i){j.getOrCreateAdUnit(k).set("fallback",i)};j.setAdUnitImpBeacon=function(k,i){j.getOrCreateAdUnit(k).set("imp_beacon",i)};j.setAdUnitMarketFloor=function(k,i){j.getOrCreateAdUnit(k);u.aumf=u.aumf||[];u.aumf.push(k+":"+i)};j.setAdUnitNGFloor=function(k,i){j.getOrCreateAdUnit(k);u.aungf=u.aungf||[];u.aungf.push(k+":"+i)};j.setAdUnitSlotId=function(k,i){j.getOrCreateAdUnit(k).set("anchor",O.get(i))};j.setAnchorTarget=function(i){u.tg=i};j.setBrowserDims=function(i){u.dims=i};j.setAdUnitLocation=function(i){u.adxy=i};j.setClickRedirectURL=function(i){I=i};j.setGateway=function(i){F=O.ensureRightProtocol(i)};j.setMode=function(i){q.mode=i};j.setPageURL=function(i){u.ju=O.ensureRightProtocol(i)};j.setRefererURL=function(i){u.jr=i};j.setRefreshDelay=function(i){u.rd=i};j.setRefreshMax=function(i){u.rm=i};j.setTest=function(i){u.test=i?"true":null};j.setUserID=function(i){u.xid=i};j.setBidderEligibility=function(i){u.be=i?1:0};j.setCacheEnabled=function(i){u.ce=i?1:0};j.setCoords=function(i){if(i.latitude&&i.longitude){u.lat=i.latitude;u.lon=i.longitude;u.lt=i.source||OX.GeoLocationSources.GPS}};j.setAdSizes=function(i){u.aus=u.aus?u.aus+"|":"";u.aus=u.aus+i.join(",")};j.setAppName=function(i){if(i){u["app.name"]=i;n()}};j.setAppBundleID=function(i){if(i){u["app.bundle"]=i;n()}};j.setAppStoreURL=function(i){if(i){u.url=O.ensureRightProtocol(i);n()}};j.setAPIFrameworks=function(i){if(i.toString()){u.af=i.toString();n()}};j.addDeviceID=function(Q,R){var i={"did.ia":"did.iat","did.adid":"did.adid.enabled"},k;if(Q.type&&Q.id){k=(R||"did.")+Q.type;u[k]=Q.id;if(i.hasOwnProperty(k)&&Q.hasOwnProperty("tracking")){u[i[k]]=!!Q.tracking}n()}};j.setOpenRTBParameters=function(k){var i;if(Object.prototype.toString.call(k)==="[object Object]"){s=k}else{if(typeof k==="string"){try{i=JSON.parse(k);this.setOpenRTBParameters(i)}catch(Q){}}}};j.addOpenRTBParameter=function(U,V){var T=U.split("."),R=s,W,Q,k;for(var S=0;S<T.length;S++){W=T[S];if(S===T.length-1){R[W]=V;break}Q=W.match(/(\w+)\[(\d+)\]/);if(Q){W=Q[1];k=Q[2];R[W]=R[W]||[];R[W][k]=R[W][k]||{};R=R[W][k]}else{R[W]=R[W]||{};R=R[W]}}};j.showAdUnit=function(Q){var k=l[Q],i;if(k){i=function(){if(O.getMedium()==="ma"&&!k.get("anchor")){return 0}if(t){return 0}if(k.get("framed")){return 1}if(O.defined(v)){return v}return !!OX.getFramed()}();k.render({framed:i,onAdUnitRenderStart:function(){b(M.ON_ADUNIT_RENDER_START,[k])},onAdUnitRenderFinish:function(){b(M.ON_ADUNIT_RENDER_FINISH,[k])},onAdRenderStart:function(){b(M.ON_AD_RENDER_START,[k])},onAdRenderFinish:function(S,T,R){b(M.ON_AD_RENDER_FINISH,[S,T,R])},onAdDefaulted:function(S,T,R){b(M.ON_AD_DEFAULTED,[S,T,R])},onAdNotDefaulted:function(S,T,R){b(M.ON_AD_NOT_DEFAULTED,[S,T,R])},shareFrameContents:OX.shareFrameContents})}};window[w]=function(i){j.loadAdResponse(i);b(M.ON_AD_RESPONSE,[j]);j.fetchAdsComplete()};u.callback=w;j.setGateway(K&&K.gw||A.gw);j.setPageURL(K&&K.url||A.url);j.setRefererURL(K&&K.ref||A.ref);if(!window.postMessage){j.disableFeature("c")}if(K){j.setMode(E.IMMEDIATE);q.auid=K.auid;K.auid&&j.addAdUnit(q.auid);K.tid&&j.addContentTopic(K.tid);K.aumf&&j.setAdUnitMarketFloor(q.auid,K.aumf);K.aungf&&j.setAdUnitNGFloor(q.auid,K.aungf);K.tg&&j.setAnchorTarget(K.tg);K.imp_beacon&&j.setAdUnitImpBeacon(q.auid,K.imp_beacon);K.slot_id&&j.setAdUnitSlotId(q.auid,K.slot_id);K.fallback&&j.setAdUnitFallback(q.auid,K.fallback);K.test&&j.setTest(K.test);K.userid&&j.setUserID(K.userid);K.r&&j.setClickRedirectURL(K.r);K.rd&&j.setRefreshDelay(K.rd);K.rm&&j.setRefreshMax(K.rm);K.md&&j.disableMarket();K.ns&&j.disableSegmentation();K.coords&&j.setCoords(K.coords);K.openrtb&&j.setOpenRTBParameters(K.openrtb);K.appName&&j.setAppName(K.appName);K.appBundle&&j.setAppBundleID(K.appBundle);K.appStoreURL&&j.setAppStoreURL(K.appStoreURL);K.af&&j.setAPIFrameworks(K.af);if(K.deviceIDs){for(var N=0;N<K.deviceIDs.length;N++){j.addDeviceID(K.deviceIDs[N])}}if(K.vars){for(var J in K.vars){K.vars.hasOwnProperty(J)&&j.addVariable(J,K.vars[J])}}if(K.ef){for(var N=0;N<K.ef.length;N++){j.enableFeature(K.ef[N])}}if(K.df){for(var N=0;N<K.df.length;N++){j.disableFeature(K.df[N])}}if(O.defined(K.frameCreatives)){v=K.frameCreatives}K.forceUnframed&&(t=true);K.onResponse&&j.addHook(K.onResponse,M.ON_AD_RESPONSE);K.onAdUnitRender&&j.addHook(K.onAdUnitRender,M.ON_ADUNIT_RENDER_START);K.onAdUnitLoaded&&j.addHook(K.onAdUnitLoaded,M.ON_ADUNIT_RENDER_FINISH)}else{j.setMode(E.DEFERRED)}};
OX.AdUnit=OX.AdUnit||function(T,k){var V=OX.utils,i=this,B=OX.Resources,U=T,G=k,S,O,s,M,l,I,E,t={adunit_id:T,anchor:null,rm_anchor:null},v=false,K="dflt",r="dflt",g="loaded",c="flash",A="rich_media",a="ox_"+G+"_"+U,n=parseInt("2500")||2500,W=0,H="<script type='text/javascript'>var OX_swfobject = window.parent.OX.swfobject(window, document, navigator);<\/script>",x,j=a+"_ch_{i}",y=V.IMAGE_BEACON_TEMPLATE,L="<script type='text/javascript'>(new Image()).src='{src}'{suffix}<\/script>",w="<script type='text/javascript'>(function() {attachListener(window, 'message', dflt);function dflt(e) {if (e.data === '#data#') {signalDefaultTo(window.parent);var frames = window.parent.frames;for (var i = 0; i < frames.length; i++) {signalDefaultTo(frames[i]);}window.frameElement.style.display = 'none';}}function signalDefaultTo(win) {try {win.OX.dflt('#rid#','#auid#',#index#);} catch(e) {var msg = JSON.stringify({action : '#data#',params : ['#rid#','#auid#',#index#]});win.postMessage(msg, '*');}}function attachListener(target, type, listener) {if (target.addEventListener) {target.addEventListener(type, listener, false);} else {target.attachEvent('on' + type, listener);}}})();<\/script>",z="<script type='text/javascript'>window.onload = function() {var html = document.documentElement.innerHTML;window.parent.OX.ifrmHTML('[rid]', '[auid]', html);};<\/script>";var J=function(X){this.renderStrategy=X};J.prototype.render=function(X){return this.renderStrategy(X)};function D(Y){var X=x,aa={medium:V.getMedium(),rtype:B.RI,txn_state:Y.ts},Z="hatena.ne.jp";if(Z){X+="&bs={bs}";aa.bs=Z}return V.template(X,aa)}function Q(X){q(X)}function q(Y){var aa=t.fallback,Z,X,ab=function(){Y.onAdRenderFinish(i,S,0);Y.onAdUnitRenderFinish()};if(S&&S.html&&(i.get("type")!==c)){Z=D(S);X=F(y,{src:Z});if(!i.get("is_fallback")){S.html=S.html+X}}if(i.get("is_fallback")){aa=t.fallback||(S&&S.html)}else{if(S&&S.html){aa=S.html+(t.imp_beacon||"")}}if(aa){Y.onAdUnitRenderStart();if(Y.framed){R(aa,a,i.get("type")===c?H:"",i.get("width")||i.get("primary_width"),i.get("height")||i.get("primary_height"),Y.onAdRenderStart,ab,Y.shareFrameContents)}else{Y.onAdRenderStart();u(aa);ab()}}}function P(X){E=V.now();I=X;I.onAdUnitRenderStart();d(0)}function m(Y){var X,Z;if(S&&S.html){X=V.template(x,{medium:V.getMedium(),rtype:B.RR,txn_state:S.ts});Z=F(y,{src:X});if(!i.get("is_fallback")){S.html=Z+S.html}}q(Y)}function d(ac){var ae="",Z="",ai="",ad="",Y,af,ag,ab="",aa,ah="",X=t.chain,aj=V.template(j,{i:ac});S=X[ac];O=ac;if(!I.renderTest){ag=V.template(x,{medium:V.getMedium(),rtype:B.RR,txn_state:S.ts});if(v&&(ac<X.length-1)){ag+="&cts=";ab=" + new Date().getTime();"}Z=F(L,{src:ag,suffix:ab})}if(ac<X.length-1){C();ae=V.template(w,{data:K,rid:G,auid:U,index:ac},"#","#");S.dflting=1;Y=f(ac);af=function(){Y();I.onAdRenderFinish(i,S,ac)}}else{if(i.get("type")===c){ae=H}else{if(!I.renderTest){aa=D(S);ai=F(L,{src:aa,suffix:ah})}}if(i.get("is_fallback")){ad=t.fallback||(S&&S.html);Z="";ai=""}else{if(S&&S.html){ad=S.html+(t.imp_beacon||"")}}af=function(){I.onAdRenderFinish(i,S,ac);I.onAdUnitRenderFinish()}}R(Z+(ad||S.html)+ai,aj,ae,S.width,S.height,I.onAdRenderStart,af,I.shareFrameContents)}function N(){return(V.now()-E)>t.chain_timeout}function f(X){return function(){window.setTimeout(function(){var aa=t.chain[X],Y=X+1,Z;aa[g]=1;if(aa.hasOwnProperty(r)){if(N()){Y=t.chain.length-1}d(Y)}else{I.onAdNotDefaulted(i,aa,X);if(!I.renderTest){Z=D(S);if(v){Z+="&cte="+V.now()}V.beacon(Z)}I.onAdUnitRenderFinish()}},W)}}function R(aa,X,ab,ag,Z,ah,ac,ai){var af=(t.pre_html||"")+aa+(t.post_html||""),ad="",Y,ae;if(ai){ad=V.template(z,{rid:G,auid:U},"[","]")}Y=(t.head_html||"")+ab+ad;if(V.isUnfriendlyFramed()&&i.get("type")===A){p(X,ag,Z,Y,af,ah,ac)}else{e(X,ag,Z,Y,af,ah,ac)}i.set("iframe_id",X)}function p(X,ae,Z,ad,aa,af,ac){h(ab,Y);function ab(ag){window.parent.postMessage(JSON.stringify({action:"render_ad",params:[X,ae,Z,ad,aa]}),"*");af();V.attachListener(window,"message",function(ah){if(ah.source===ag.contentWindow&&ah.data===X){ac()}})}function Y(){if(t.chain&&t.chain.length>O+1){d(O+1)}else{e(X,ae,Z,ad,aa,af,ac)}}}function e(ae,Y,ac,ab,X,Z,ad){var aa;if(V.isFriendlyFramed()&&i.get("type")===A){if(!t.rm_anchor){t.rm_anchor=document.createElement("div");V.append(window.frameElement,t.rm_anchor)}aa=t.rm_anchor;window.frameElement.style.display="none"}else{if(!t.anchor){t.anchor=document.createElement("div");if(!document.body&&V.isFramed()){V.write("<body style='margin:0;padding:0'></body>");document.body.appendChild(t.anchor)}else{V.append(V.lastScript(),t.anchor)}}aa=t.anchor}V.produceFrame({hookNode:aa,replace:true,name:ae,width:Y,height:ac,headHTML:ab,bodyHTML:X,onStart:Z,onFinish:ad,onSuccess:function(af){if(aa===t.rm_anchor){t.rm_anchor=af}else{t.anchor=af}}})}function h(ae,ac){var Z=document.referrer,ab=Z.split("/"),Y=ab[0]+"//"+ab[2],X=Y+"/ox_buster.html",ad,aa;ad=V.createFrameElement("",0,0);ad.style.display="none";ad.src=X;document.body.appendChild(ad);V.attachListener(window,"message",function(af){if(af.source===ad.contentWindow){aa=true}});V.attachListener(ad,"load",function(){setTimeout(function(){aa?ae(ad):ac()},100)});h=function(ag,af){aa?ag(ad):af()}}function u(X){var Z=(t.pre_html||"")+X+(t.post_html||""),Y=Z;if(!document.body&&V.isFramed()){Y="<body style='margin:0;padding:0'>"+Z+"</body>"}V.write(Y)}function C(){V.attachListener(window,"message",function(X){try{var Z=JSON.parse(X.data);if(Z.action===K){OX.dflt.apply(OX,Z.params)}}catch(Y){}});C=function(){}}function b(X){var Y=V.template(x,{medium:V.getMedium(),rtype:B.RDF,txn_state:X.ts});if(v){Y+="&cte="+V.now()}V.beacon(Y)}var o=[{shouldDefer:function(){return(window.mraid&&typeof mraid.isViewable==="function"&&!mraid.isViewable())},defer:function(X){mraid.addEventListener("viewableChange",(function(){var Y=false;return function(Z){if(!Y&&Z){V.beacon(X);Y=true}}})())}},{shouldDefer:function(){return typeof trackImpressionHelper==="function"},defer:function(X){var Y=trackImpressionHelper;trackImpressionHelper=function(){V.beacon(X);Y()}}}];function F(aa,ad,ae,ab){var Y=ad.src,X="",ac;for(var Z=0;Z<o.length;Z++){ac=o[Z];if(ac.shouldDefer()){ac.defer(Y);return X}}X=V.template(aa,ad,ae,ab);return X}i.dflt=function(Y){var Z=t.chain[Y],X=Y+1;if(Z[r]){return}Z[r]=1;b(S);I.onAdDefaulted(i,Z,Y);if(V.isUnfriendlyFramed()&&Z.type===A){window.parent.postMessage(JSON.stringify({action:"restore_busted_frame"}),"*")}else{if(V.isFriendlyFramed()&&Z.type===A){window.frameElement.style.display=""}}if(!I.renderTest){if(Z.hasOwnProperty(g)){if(N()){X=t.chain.length-1}d(X)}}};i.get=function(X){return t.hasOwnProperty(X)?t[X]:(S&&S[X])};i.set=function(X,Y){t[X]=Y};i.getProperties=function(){return V.merge([t,S])};i.load=function(Z){var Y=Z.adunit,aa;x=Z.rt;for(var X in Y){if(Y.hasOwnProperty(X)){t[X]=Y[X]}}if(t.size){aa=t.size.split("x");t.primary_width=aa[0];t.primary_height=aa[1]}t.chain_timeout=t.chain_timeout||n;if(Z.chain){if(t.chain&&t.chain.length>0){if(t.chain.length>1){s=new J(P)}else{S=t.chain&&t.chain[0];s=new J(m)}}else{s=new J(Q)}}else{S=t.chain&&t.chain[0];s=new J(q)}M=1;l=0;Z.oninit&&Z.oninit(i)};i.render=function(Y){var ab,X=i.get("height"),Z=i.get("width");if(V.isFramed()){try{ab=V.detectWindowDimensions(window,document);if(ab.height<X){window.frameElement.height=X;window.frameElement.style.height=X+"px"}if(ab.width<Z){window.frameElement.width=Z;window.frameElement.style.width=Z+"px"}}catch(aa){}}if(l){return}i.set("framed",Y.framed);if(!M){s=new J(Q)}s.render(Y);l=1}};
/*! SWFObject v2.2 <http://code.google.com/p/swfobject/> is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> */
;OX.swfobject=function(N,j,t){var P=OX.utils.defined,r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",N=N||window,j=j||document,t=t||navigator,T=false,U=[h],o=[],M=[],H=[],l,Q,D,B,I=false,a=false,n,F,m=true,L=function(){var aa=P(j.getElementById)&&P(j.getElementsByTagName)&&P(j.createElement),ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(P(t.plugins)&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(P(t.mimeTypes)&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(P(N.ActiveXObject)){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!L.w3){return}if((P(j.readyState)&&j.readyState=="complete")||(!P(j.readyState)&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!I){if(P(j.addEventListener)){j.addEventListener("DOMContentLoaded",f,false)}if(L.ie&&L.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(N==top){(function(){if(I){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(L.wk){(function(){if(I){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(I){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}I=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function J(X){if(I){X()}else{U[U.length]=X}}function s(Y){if(P(N.addEventListener)){N.addEventListener("load",Y,false)}else{if(P(j.addEventListener)){j.addEventListener("load",Y,false)}else{if(P(N.attachEvent)){i(N,"onload",Y)}else{if(typeof N.onload=="function"){var X=N.onload;N.onload=function(){X();Y()}}else{N.onload=Y}}}}}function h(){if(T){V()}else{G()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(P(Z.GetVariable)){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");L.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;G()})()}else{G()}}function G(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(L.pv[0]>0){var ae=c(Y);if(ae){if(E(o[af].swfVersion)&&!(L.wk&&L.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}O(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&P(Z.SetVariable)){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(P(Y.SetVariable)){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&E("6.0.65")&&(L.win||L.mac)&&!(L.wk&&L.wk<312)}function O(aa,ab,X,Z){a=true;D=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(!P(aa.width)||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(!P(aa.height)||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=L.ie&&L.win?"ActiveX":"PlugIn",ac="MMredirectURL="+N.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(P(ab.flashvars)){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(L.ie&&L.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(L.ie&&L.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(L.win&&L.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(L.wk&&L.wk<312){return X}if(aa){if(!P(ai.id)){ai.id=Y}if(L.ie&&L.win){var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";M[M.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(L.ie&&L.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);H[H.length]=[Z,X,Y]}function E(Z){var Y=L.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(L.ie&&L.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;F=null}if(!n||F!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(L.ie&&L.win&&P(j.styleSheets)&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}F=X}if(L.ie&&L.win){if(n&&typeof n.addRule==r){n.addRule(ac,Y)}}else{if(n&&P(j.createTextNode)){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(I&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function K(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&P(encodeURIComponent)?encodeURIComponent(Y):Y}var d=function(){if(L.ie&&L.win){window.attachEvent("onunload",function(){var ac=H.length;for(var ab=0;ab<ac;ab++){H[ab][0].detachEvent(H[ab][1],H[ab][2])}var Z=M.length;for(var aa=0;aa<Z;aa++){y(M[aa])}for(var Y in L){L[Y]=null}L=null;for(var X in OX_swfobject){OX_swfobject[X]=null}OX_swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(L.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(L.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(L.w3&&!(L.wk&&L.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);J(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(P(am.flashvars)){am.flashvars+="&"+ai+"="+escape(Z[ai])}else{am.flashvars=ai+"="+escape(Z[ai])}}}if(E(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;O(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:L,getFlashPlayerVersion:function(){return{major:L.pv[0],minor:L.pv[1],release:L.pv[2]}},hasFlashPlayerVersion:E,createSWF:function(Z,Y,X){if(L.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(L.w3&&A()){O(Z,aa,X,Y)}},removeSWF:function(X){if(L.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(L.w3){v(aa,Z,Y,X)}},addDomLoadEvent:J,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return K(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return K(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(L.ie&&L.win){l.style.display="block"}}if(D){D(B)}}a=false}}}};var OX_swfobject=OX_swfobject||OX.swfobject(window,document,navigator);
OX.dfp_bidder_config=OX.dfp_bidder_config||{"/4374287/question_permalink_bottom_right": {"300x250": 538155655}, "/4374287/question_keyword2": {"300x250": 538155654}, "no_dfp_kv": false, "/4374287/question_sp_middle": {"300x250": 538155663}, "/4374287/question_permalink_footer_right": {"300x250": 538155648}, "/4374287/question_category2": {"300x250": 538155657}, "/4374287/question_permalink_fewfooter_right": {"300x250": 538155664}, "/4374287/question_category": {"300x250": 538155658}, "/4374287/question_permalink": {"300x250": 538155656}, "max_bucket": 2000, "/4374287/question_permalink_sp": {"300x250": 538155646}, "/4374287/question_permalink_fewfooter_left": {"300x250": 538155659}, "ms": false, "bm": 100, "/4374287/question_permalink3": {"300x250": 538155652}, "/4374287/question_permalink2": {"300x250": 538155653}, "/4374287/question_sp_bcomment": {"300x250": 538155650}, "/4374287/question_keyword": {"300x250": 538155649}, "/4374287/question_sp_permalink_rectangle_middle": {"300x250": 538155647}, "zlb": false, "/4374287/question_permalink_bottom_left": {"300x250": 538155662}, "/4374287/question_permalink_footer_left": {"300x250": 538155661}, "/4374287/question_permalink_rectangle_footer": {"300x250": 538155651}, "timeout": 2500, "/4374287/question_footer_sp": {"320x50": 538155660}}
;OX.dfp_bidder=OX.dfp_bidder||function(q,z){q.googletag=q.googletag||{};q.googletag.cmd=q.googletag.cmd||[];var E=OX.utils,p=OX.Hooks,H=OX.Resources,I=C(OX.dfp_bidder_config),s="hatena.ne.jp",y=q.googletag,D=!!I.force_sra_order;_dfpDisableInitialLoad=0,_dfpSlotsByDivID={},_dfpTargetsByPage={},_dfpSlotsBySlotID={},_dfpSlots=[],_requests=[],_enablePrefetch=I.prefetch&&I.prefetch.auid&&I.prefetch.slots?1:0,_dfpSyncRendering=_enablePrefetch&&I.prefetch.sync?1:0,_enableApi=0,_enableApiSync=0,_apiCallback=function(){if("oxDone" in q){oxDone()}},MAX_BUCKET=I.max_bucket||2000,TIER_1=1000,TIER_2=5000,MAX_TIER=MAX_BUCKET*10,OX_TIMEOUT=I.t||I.timeout||2500,OXAdunitSizes={"300":["250","600","1050"],"320":["480","50"],"728":["90"],"768":["1024"],"160":["600"],"970":["90","250"],"468":["60"],"120":["600"],"480":["320"],"336":["280"],"1024":["768"]},OX_DFP_HEIGHT_DELTA=5,SlotStatus={BYPASS:1,READY:2,REQUESTED:3,RESPONDED:4,DISPLAYING:5,DISPLAYED:6,CREATED:7},RequestStatus={READY:2,REQUESTED:3,RESPONDED:4,TIMEOUT:5};function e(N,M,K){for(var L in M){if(M.hasOwnProperty(L)){if(!E.isArray(M[L])){N.addVariable(L,M[L])}else{for(var O in M[L]){if(M[L].hasOwnProperty(O)){if(L!=K){N.addVariable(L,M[L][O])}}}}}}}function C(K){var L={};for(key in K){value=K[key];if(key.indexOf("/")!==-1){key=key.toLowerCase()}L[key]=value}return L}function J(L){var N,K;try{N=L.slot.getSlotElementId();K=_dfpSlotsByDivID[N];K.rendered=1;if(!K.dfpDisplayed){K.dfpDisplayed=1;K.status=SlotStatus.DISPLAYED}}catch(M){}}function t(K){var L=G(K);if(L.length===0){K.noSize=1}else{K.noSize=0}return L}function b(K){if(K.indexOf("/")==0){return K.substring(1)}else{return"/"+K}}function h(O,P){var R,M,Q,L,K;if(typeof O==="object"){for(var S in O){if(O.hasOwnProperty(S)){if(S==="default"){R=O[S]}else{Q=S;K=O[S]}}}if(Q){if(P[Q]){if(!E.isArray(P[Q])){L=P[Q];M=K[L]}else{for(var N in P[Q]){if(M=K[P[Q][N]]){break}}}}if(M){return M}else{return R}}else{return R}}return O}function w(T){var M,Q=T.slot,P=T.zone,S,R,L,K=[],O;if(!_enableApi){T.size=t(T)}if(T.size.length===0){T.status=SlotStatus.BYPASS;return}S=P.toLowerCase()+"/";while(((O=S.lastIndexOf("/"))>0)&&!M){S=S.substring(0,O);R=I[S]||I[b(S)];if(!R){continue}if(I.version){K=E.intersection(g(T.size),R.sizes);if(K.length!=0){M=h(R.oxAdUnitId,Q.getTargetingMap());if(M){T.sizeKey="oxb";T.sizeString=K[0];T.supportedSizes=K}}}else{for(var N=0;N<T.size.length;N++){L=T.size[N];M=h(R[L],Q.getTargetingMap());if(M){T.sizeKey="ox"+L;T.sizeString=L;break}}}}if(!M){T.status=SlotStatus.BYPASS}else{if((T.status==SlotStatus.BYPASS||T.status==SlotStatus.CREATED)&&_dfpDisableInitialLoad){T.status=SlotStatus.BYPASS}else{T.status=SlotStatus.READY}T.auid=M}}function r(K,N,P,O){var M,L={zone:K,div:P,slot:O,dfpDisplayed:0,status:SlotStatus.CREATED,rendered:0,setTargeting:function(R,S){var Q=S;if(I.version){if(S.indexOf("_")===-1){S=L.sizeString+"_"+Q}}L.slot.setTargeting(R,S);L.bucket=Q}};M=O.getSlotId().getId();_dfpSlotsByDivID[P]=L;_dfpSlotsBySlotID["google_ads_iframe_"+M]=L;_dfpSlots.push(L)}function o(){dfpZones=y.pubads().getSlots();for(j=0;j<dfpZones.length;j++){slot=dfpZones[j];dfpSlotId=slot.getSlotId();if(dfpSlotId.getDomId() in _dfpSlotsByDivID){dfpSlot=_dfpSlotsByDivID[dfpSlotId.getDomId()];dfpSlot.slot=slot;_dfpSlotsBySlotID["google_ads_iframe_"+dfpSlotId.getId()]=dfpSlot}}}function x(K){var L="http://ox-d.hatena.servedbyopenx.com/w/1.0/bo?bd={bd}&br={br}&bp={bp}&bt={bt}&ts={ts}&bs={bs}";E.beacon(E.template(L,K))}function n(L){var K={zone:L[0],div:L[2],slot:{setTargeting:function(M,N){},getTargetingMap:function(){return K.targetingMap}},setTargeting:function(M,N){if(M.substring(M.length-2)=="_2"){K.bucket_2=N}else{K.bucket=N}},setAd:function(M){K.ad=M},dfpDisplayed:0,status:SlotStatus.CREATED,rendered:0,size:L[1],sizeString:L[1][0],bucket:"t",bucket_2:"t",ad:"",targetingMap:L[3]||{}};w(K);_dfpSlotsByDivID[K.div]=K;_dfpSlots.push(K);return K}function m(L,P,M){var O=_dfpSlots;for(var K=0;K<O.length;K++){if((_dfpDisableInitialLoad&&O[K].dfpDisplayed&&!(O[K].status==SlotStatus.DISPLAYED))||(!_dfpDisableInitialLoad&&O[K].dfpDisplayed&&!O[K].rendered)){if(P.length>0&&E.isArray(P[0])){P[0]=P[0].slice()}setTimeout(function(){m(L,P,M)},250);return}}for(var K=0;K<O.length;K++){O[K].proxyDisplay=0}if(P.length==0||(!P[0])||(P[0]&&P[0].length>1)){D=1}if(P.length>0&&P[0]&&P[0].length>0){O=[];for(var K=0;K<P[0].length;K++){try{O.push(_dfpSlotsBySlotID["google_ads_iframe_"+P[0][K].getSlotId().getId()])}catch(N){}}}for(var K=0;K<O.length;K++){dfpSlot=O[K];if(dfpSlot.status!=SlotStatus.READY&&dfpSlot.status!=SlotStatus.BYPASS&&dfpSlot.sizeKey){dfpSlot.status=SlotStatus.READY;dfpSlot.setTargeting(dfpSlot.sizeKey,"r")}else{dfpSlot.status=SlotStatus.BYPASS}if(!D){dfpSlot.proxyDisplay=(function(Q,R){return function(){L.apply(Q,[[R]])}})(M,dfpSlot.slot);dfpSlot.rendered=0;u(dfpSlot)}}if(D){for(var K=O.length-1;K>=0;K--){if(O[K].dfpDisplayed){O[K].proxyDisplay=(function(Q,R){return function(){L.apply(Q,P);for(var S=0;S<(O.length-1);S++){O[S].status=SlotStatus.DISPLAYED;if(O[S].noSize||!E.get(O[S].div)){O[S].rendered=1}}}})(M,dfpSlot.slot);break}}for(var K=0;K<O.length;K++){if(O[K].dfpDisplayed){O[K].rendered=0;u(O[K])}}}}function G(K){var M=[];try{var P=E.detectWindowDims(),Q=K.slot,O=Q.getSizes(P[0],P[1]);if(O.length===0){return M}for(var L=0;L<O.length;L++){try{M.push(O[L].getWidth()+"x"+O[L].getHeight())}catch(N){}}}catch(N){}return M}function g(T){var M=[];for(var O=0;O<T.length;O++){var Q=T[O].split("x"),K=Q[0],S=Q[1],R=OXAdunitSizes[K],P,L;if(R){for(var N=0;N<R.length;N++){L=R[N];P=Math.abs(parseInt(L)-parseInt(S));if(P<=OX_DFP_HEIGHT_DELTA){S=L;break}}}M.push(K+"x"+S)}return M}function f(M,O,N){var K={medium:E.getMedium(),rtype:O,txn_state:N};if(O===H.RI){M+="&bs={bs}";K.bs=s}var L=E.template(M,K);return E.getImgBeacon(L)}function F(L){var M,O,K,P={},N=[];if(!E.isArray(L)){return N}for(O=0;O<L.length;O++){M=L[O];P[M.width+"x"+M.height]=true}for(K in P){if(P.hasOwnProperty(K)){N.push(K)}}return N}function A(){var L=q.OX_dfp_slots||I.prefetch.slots,M=I.prefetch.auid;for(var K=0;K<L.length;K++){_requests.push(a(M,L[K],v))}}function v(K){if(K.dfpSlot){l(K.dfpSlot,K)}}function l(K,L){K.status=SlotStatus.RESPONDED;if(L.oxAdUnit){K.oxRequest=L.oxRequest;K.oxAdUnit=L.oxAdUnit;K.request=L;if(L.respSizes&&L.respSizes[0]){if(I.version){K.sizeKey="oxb"}else{K.sizeKey="ox"+L.respSizes[0]}K.sizeString=L.respSizes[0]}if(L.secondPrice){K.setTargeting(K.sizeKey+"_2",L.secondPrice)}if(_enableApi){K.setAd(L.ad)}}K.request=0;K.setTargeting(K.sizeKey,L.bucket);B()}function k(K){var N,M=-1,P=-1,O=E.now()-270000;if(K.request){return K.request}if(K.status==SlotStatus.READY){for(var L=0;L<_requests.length;L++){N=_requests[L];if(N.dfpSlot){continue}if(E.isSubset(K.size,N.sizes)&&N.price>P&&N.bo_req>O&&(N.status==RequestStatus.REQUESTED||N.status==RequestStatus.RESPONDED)){M=L;P=N.price}}}if(M>=0){N=_requests[M];N.dfpSlot=K;K.request=N;_requests.splice(M,1);K.status=N.status;if(N.status==RequestStatus.RESPONDED){l(K,N)}return N}return null}function u(V){if(V.status==SlotStatus.CREATED||V.status==SlotStatus.READY||V.status==SlotStatus.BYPASS){w(V)}if(!_enablePrefetch){var R,N=V.auid,T=V.slot,S=V.zone,K=V.div,L,P,M={};if(V.status===SlotStatus.READY){V.status=SlotStatus.REQUESTED;V.oxRequest=R=OX();R.setBidderEligibility(true);R.addAdUnit(N);L=_enableApi?V.size:G(V);if(I.zlb){R.setCacheEnabled(true)}if(I.version){R.setAdSizes(V.supportedSizes)}else{if(I.ms){try{R.setAdSizes(g(L))}catch(O){}}}if(true&&!I.zlb){P=E.getAdPosition(K,true);if(P!=null){R.setBrowserDims(P.browserDims.width+"x"+P.browserDims.height);R.setAdUnitLocation(P.adUnitStartPos.left+","+P.adUnitStartPos.top)}}R.addHook(function(X){if(V.status===SlotStatus.REQUESTED){if(X.isResponseEmpty()){V.lte=E.now();V.setTargeting(V.sizeKey,"0");V.status=SlotStatus.RESPONDED;B();if(false){var W="http://ox-d.hatena.servedbyopenx.com/w/1.0/st?bd="+(V.lte-V.lts)+"&bt="+OX_TIMEOUT+"&br=n";E.beacon(W)}}}},p.ON_AD_RESPONSE);R.addHook(function(ak){var X=ak.get("chain"),ah=X&&X.length&&X[X.length-1],ag=X&&X[0],ac=ah&&ah.tbd,W=ak.get("chain_revenue")||ah&&ah.pub_rev,ab=ac||W,aa,an,al=ah?ah.ts:"",ae=ab?ab:"0",aj,am,af,Z={},ai;V.lte=E.now();if(V.status===SlotStatus.REQUESTED){q.clearTimeout(V.timer);if(ab){if(I.bm){ab=ab/I.bm}if(ag&&ag.width&&ag.height){ai=ag.width+"x"+ag.height}if(I.version&&ai&&!_enableApi){aa=ai+"_";aa+=c(ab)}else{aa=c(ab)}if(1==ak.get("auct_win_is_deal")){aa+=",pmp"+aa}if(ah&&ah.deal_id){aa+=","+ah.deal_id}if(I.ms&&ai){V.sizeString=ai}if(I.ms&&!I.version){V.sizeKey="ox"+V.sizeString}V.setTargeting(V.sizeKey,aa);if(_enableApi){aj=ah.html||ah.ad_url;am=f(R.getRecordTemplate(),H.RR,al);af=f(R.getRecordTemplate(),H.RI,al);V.setAd(am+aj+af)}if(ac){if(W&&I.bm){W=W/I.bm}if(I.version&&ai&&!_enableApi){aa=ai+"_";aa+=c(W)}else{aa=c(W)}V.setTargeting(V.sizeKey+"_2",aa)}an="p"}else{V.setTargeting(V.sizeKey,"0");an="n"}V.oxAdUnit=ak;V.status=SlotStatus.RESPONDED;B()}else{an="t"}if(false){var Y="http://ox-d.hatena.servedbyopenx.com/w/1.0/st?bd="+(V.lte-V.lts)+"&bt="+OX_TIMEOUT+"&br="+an;E.beacon(Y)}if(al){Z.bd=V.lte-V.lts;Z.br=an=="n"?"0":an;Z.bp=ae;Z.bt=OX_TIMEOUT;Z.ts=al;Z.bs=s;x(Z)}},p.ON_ADUNIT_INITIALIZED);if(!I.no_dfp_kv){e(R,T.getTargetingMap(),V.sizeKey);e(R,_dfpTargetsByPage,V.sizeKey)}if(_enableApiSync||_dfpSyncRendering){R.fetchAds()}else{R.load()}V.lts=E.now();V.timer=q.setTimeout(function(){if(V.status===SlotStatus.REQUESTED){V.status=SlotStatus.RESPONDED;V.setTargeting(V.sizeKey,"t");B()}},OX_TIMEOUT)}else{if(V.status==SlotStatus.BYPASS||V.status==SlotStatus.RESPONDED){B()}}}else{var Q,U=function(W){l(V,W)};if(V.status===SlotStatus.READY){Q=k(V);if(!Q){V.status=SlotStatus.REQUESTED;Q=a(V.auid,V.size,U,V.div);Q.dfpSlot=V;V.request=Q;Q.bo_display=Q.bo_req}if(V.status==SlotStatus.REQUESTED){if(!Q.bo_display){Q.bo_display=E.now()}Q.timer=q.setTimeout(function(){if(Q.status===RequestStatus.REQUESTED){Q.status=RequestStatus.TIMEOUT;U(Q)}},OX_TIMEOUT)}else{if(Q.beaconParams){Q.beaconParams.bt=OX_TIMEOUT+E.now()-Q.bo_req;Q.beaconParams.bs=s;x(Q.beaconParams);Q.beaconParams=null}}}else{if(V.status==SlotStatus.BYPASS||V.status==SlotStatus.RESPONDED){B()}}}}function a(M,S,R,K){var P={},Q,O,L={};Q=OX();P.auid=M;P.sizes=S;P.oxRequest=Q;P.status=RequestStatus.READY;Q.setBidderEligibility(true);Q.addAdUnit(M);if(I.zlb){Q.setCacheEnabled(true)}try{Q.setAdSizes(g(S))}catch(N){}if(!I.zlb&&K){O=E.getAdPosition(K,true);if(O!=null){Q.setBrowserDims(O.browserDims.width+"x"+O.browserDims.height);Q.setAdUnitLocation(O.adUnitStartPos.left+","+O.adUnitStartPos.top)}}Q.addHook(function(T){if(P.status===RequestStatus.REQUESTED){if(T.isResponseEmpty()){P.status=RequestStatus.RESPONDED;P.bucket="0";P.result="n";R(P)}}},p.ON_AD_RESPONSE);Q.addHook(function(ae){var U=ae.get("chain"),ab=U&&U.length&&U[U.length-1],Y=ab&&ab.tbd,T=ae.get("chain_revenue")||ab&&ab.pub_rev,X=Y||T,W,af=ab?ab.ts:"",Z=X?X:"0",ac,ag,aa,V={};P.bo_resp=E.now();P.oxAdUnit=ae;if(P.status===RequestStatus.REQUESTED){P.status=RequestStatus.RESPONDED;if(X){if(I.bm){X=X/I.bm}W=c(X);if(1==ae.get("auct_win_is_deal")){W+=",pmp"+W}if(ab&&ab.deal_id){W+=","+ab.deal_id}if(_enableApi){ac=ab.html||ab.ad_url;ag=f(Q.getRecordTemplate(),H.RR,af);aa=f(Q.getRecordTemplate(),H.RI,af);P.ad=ag+ac+aa}if(Y){if(T&&I.bm){P.secondPrice=c(T/I.bm)}}P.price=X;P.result="p"}else{P.result="n"}P.bucket=W||"0";P.respSizes=F(U);R(P)}else{P.result="t";P.bucket="t"}if(af){V.bd=P.bo_resp-P.bo_req;V.br=P.result=="n"?"0":P.result;V.bp=Z;V.bt=(P.bo_display&&(OX_TIMEOUT+P.bo_display-P.bo_req))||OX_TIMEOUT;V.ts=af;V.bs=s;if(P.bo_display){x(V)}else{P.beaconParams=V}}},p.ON_ADUNIT_INITIALIZED);P.status=RequestStatus.REQUESTED;P.bucket="t";P.price=0;if(_enableApiSync||_dfpSyncRendering){Q.fetchAds()}else{Q.load()}P.bo_req=E.now();return P}function B(){if(_dfpSyncRendering){return}var L=0,O=0,M,K;if(D){for(var N=0;N<_dfpSlots.length;N++){M=_dfpSlots[N];if(M.status==SlotStatus.CREATED){return}K=M.status;if(K==SlotStatus.REQUESTED){return}if(K!==SlotStatus.RESPONDED&&K!==SlotStatus.BYPASS&&(K!==SlotStatus.DISPLAYED&&K!==SlotStatus.DISPLAYING&&M.dfpDisplayed)){return}}}if(_enableApi&&!_enableApiSync){try{_apiCallback();_apiCallback=function(){}}catch(P){}return}if(_enablePrefetch&&_requests.length==0){_enablePrefetch=0}for(var N=0;N<_dfpSlots.length;N++){M=_dfpSlots[N];K=M.status;if((K===SlotStatus.RESPONDED||K===SlotStatus.BYPASS)&&M.dfpDisplayed){if(M.proxyDisplay){M.status=SlotStatus.DISPLAYING;(function(Q){q.setTimeout(function(){Q.proxyDisplay();if(Q.noSize||!E.get(Q.div)){Q.rendered=1}Q.status=SlotStatus.DISPLAYED},0)})(M)}}}}function c(L){var K,M=Math.min(L,MAX_TIER);if(M>0&&M<25){M=25}if(L<TIER_1){K=Math.round(M/50)*5}else{if(L<TIER_2){K=Math.round(M/100)*10}else{K=Math.round(M/500)*50}}return K+""}function d(){!function(){var K;if(K=(y&&y.defineSlot)){y.defineSlot=function(){var M=arguments,P=K.apply(this,M),L=M[0],N=M[1],O=M[2];r(L,N,O,P);return P}}}();!function(){var K;if(K=(y&&y.display)){y.display=function(){var O=arguments[0],N=arguments,L=_dfpSlotsByDivID[O];if(_dfpSyncRendering){K.apply(this,N);return}if(L){if(L.dfpDisplayed==1&&L.status==SlotStatus.DISPLAYED){K.apply(this,N)}else{L.dfpDisplayed=1;L.proxyDisplay=(function(P){return function(){K.apply(P,N)}}(this))}}else{K.apply(this,N)}for(var M=0;M<_dfpSlots.length;M++){u(_dfpSlots[M])}}}}();!function(){var K,L;if(L=y){if(K=L.enableServices){L.enableServices=function(){if(_dfpSyncRendering){for(var M=0;M<_dfpSlots.length;M++){u(_dfpSlots[M])}}return K.apply(this,arguments)}}}}();!function(){var K,L;if(L=(y&&y.pubads())){if(K=L.enableSyncRendering){L.enableSyncRendering=function(){_dfpSyncRendering=1;return K.apply(this,arguments)}}}}();!function(){var K,L;if(L=(y&&y.pubads())){if(K=L.enableSingleRequest){L.enableSingleRequest=function(){D=1;return K.apply(this,arguments)}}}}();!function(){var K,L;if(L=(y&&y.pubads())){if(K=L.disableInitialLoad){L.disableInitialLoad=function(){_dfpDisableInitialLoad=1;return K.apply(this,arguments)}}}}();!function(){var K,L;if(L=(y&&y.pubads())){if(K=L.refresh){L.refresh=function(){if(_dfpSyncRendering){K.apply(this,arguments);return}m(K,arguments,this)}}}}();!function(){var K;if(K=(y&&y.defineOutOfPageSlot)){y.defineOutOfPageSlot=function(){var M=arguments,P=K.apply(this,M),L=M[0],N=[],O=M[1];r(L,N,O,P);return P}}}();!function(){var K,L;if(L=(y&&y.pubads())){if(K=L.setTargeting){L.setTargeting=function(){var M=arguments,N=M[0],O=M[1];if(!E.isArray(O)){O=[O]}_dfpTargetsByPage[N]=O;return K.apply(this,arguments)}}}}();!function(){var K,L;if(L=(y&&y.pubads())){if(K=L.clearTargeting){L.clearTargeting=function(){var M=arguments,N=M[0];delete _dfpTargetsByPage[N];return K.apply(this,arguments)}}}}();!function(){if(y&&y.pubads()){y.pubads().addEventListener("slotRenderEnded",function(K){J(K)})}}()}q.OX_cmds=q.OX_cmds||[];q.OX_cmds.push(function(){OX.dfp_bidder.init()});return{showAd:function(K){var S,L,O,R,N,Q,P;if(_enableApi&&!_dfpSlotsBySlotID[K]){o()}if(S=_dfpSlotsBySlotID[K]){if(S.bucket=="s"){return}if(L=E.get(S.div)){O=L.childNodes;for(var M=0;M<O.length;M++){R=O[M];R.style&&(R.style.display="none")}P=z.createElement("div");N=S.oxRequest;Q=S.oxAdUnit;L.appendChild(P);Q.set("anchor",P);N.fetchAdsComplete();S.setTargeting(S.sizeKey,"s")}}},showAdSync:function(R){var N,Q,P,M,O,K,L;if(_enableApi&&!_dfpSlotsBySlotID[name]){o()}if(N=_dfpSlotsByDivID[R.replace("_ad_container","")]){if(Q=E.get(N.div)){L=z.createElement("div");O=N.oxRequest;K=N.oxAdUnit;Q.appendChild(L);K.set("anchor",L);O.fetchAdsComplete();N.setTargeting(N.sizeKey,"s")}}},setOxTargeting:function(K){try{if(!K){K=y.pubads().getSlots()}var M=OX.dfp_bidder.getPriceMap();for(i=0;i<K.length;i++){var N=K[i].getSlotElementId();if(dfpSlot=_dfpSlotsByDivID[N]){K[i].setTargeting(dfpSlot.sizeKey,!I.version?dfpSlot.bucket:dfpSlot.sizeString+"_"+dfpSlot.bucket)}}}catch(L){}},getPrice:function(L){if(!_enableApi){return"0"}try{return _dfpSlotsByDivID[L].bucket}catch(K){return"0"}},getSize:function(L){try{return _dfpSlotsByDivID[L].sizeString}catch(K){return"none"}},getPriceMap:function(){if(!_enableApi){return{}}var M,L={};for(M in _dfpSlotsByDivID){try{if(_dfpSlotsByDivID.hasOwnProperty(M)){slot=_dfpSlotsByDivID[M];if(slot.sizeString){L[M]={size:slot.sizeString,price:slot.bucket,ad:slot.ad}}else{L[M]={size:"none",price:"0",ad:""}}}}catch(K){}}return L},refresh:function(O,N){o();_enableApiSync=0;_apiCallback=O;var M=_dfpSlots;if(N){M=[];for(var K=0;K<N.length;K++){try{if("google_ads_iframe_"+N[K].getSlotId().getId() in _dfpSlotsBySlotID){M.push(_dfpSlotsBySlotID["google_ads_iframe_"+N[K].getSlotId().getId()])}}catch(L){}}}for(var K=0;K<M.length;K++){dfpSlot=M[K];if(dfpSlot.status!=SlotStatus.READY&&dfpSlot.status!=SlotStatus.BYPASS&&dfpSlot.sizeKey){dfpSlot.status=SlotStatus.READY;dfpSlot.setTargeting(dfpSlot.sizeKey,"t")}else{dfpSlot.status=SlotStatus.BYPASS}}for(var K=0;K<M.length;K++){M[K].rendered=0;if(M[K].status!=SlotStatus.BYPASS){u(M[K])}}for(var K=0;K<M.length;K++){if(M[K].status==SlotStatus.BYPASS){u(M[K])}}if(M.length==[]){B()}},addSlots:function(K,M){_apiCallback=M;var L=1;for(i=0;i<K.length;i++){dfpSlot=n(K[i]);if(dfpSlot.status!=SlotStatus.BYPASS){L=0;u(dfpSlot)}}if(L){B()}},init:function(){if("OX_dfp_ads" in q){_enableApi=1;D=1;if("OX_dfp_options" in q){if(OX_dfp_options.callback){_apiCallback=OX_dfp_options.callback}if(OX_dfp_options.sync){_enableApiSync=1}}var K=1;for(i=0;i<OX_dfp_ads.length;i++){dfpSlot=n(OX_dfp_ads[i]);if(dfpSlot.status!=SlotStatus.BYPASS){K=0;u(dfpSlot)}}if(K){B()}}else{if(E.isArray(y.cmd)){if(_enablePrefetch){A()}y.cmd.splice(0,0,d)}else{if(y.pubads().getSlots().length==0){if(_enablePrefetch){A()}y.cmd.push(function(){if(y.pubads().getSlots().length==0){d()}})}}}}}}(window,document); !function(){OX.init();OX.setGateway("http://ox-d.hatena.servedbyopenx.com/w");var d;while(window.OX_cmds&&(d=OX_cmds.shift())){if(typeof d==="function"){d()}}var e=window.OX_reporter_cmds;if(!e){try{e=window.top.OX_reporter_cmds}catch(c){}}for(var a in e){if(typeof e[a]==="function"){e[a](window)}}var b;while(window.OX_ads&&(b=OX_ads.shift())){b.hasOwnProperty("slot_id")?OX.load(b):OX.requestAd(b)}}();

